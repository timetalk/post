(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{10:function(e,t,s){},16:function(e,t,s){},18:function(e,t,s){},19:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),a=s(4),l=s.n(a),o=(s(16),s(7)),r=s(11),i=s(3),d=s(2);function j(e){var t=null;if(document.cookie&&""!==document.cookie)for(var s=document.cookie.split(";"),c=0;c<s.length;c++){var n=s[c].trim();if(n.substring(0,e.length+1)===e+"="){t=decodeURIComponent(n.substring(e.length+1));break}}return t}function u(e,t,s){var c="http://127.0.0.1:8000/api/post/";e&&(c="http://127.0.0.1:8000/api/post/?username=".concat(e));var n=new XMLHttpRequest;n.responseType="json",n.open("GET",c),n.setRequestHeader("Content-Type","application/json"),n.onload=function(){403===n.status&&("Authentication credentials were not provided."===n.response.detail&&(window.location.href="/accounts/login?showLoginRequired=true"));t(n.response,n.status)},n.send()}function b(e,t){var s;e&&(s=e);var c=new XMLHttpRequest,n=j("csrftoken");c.responseType="json",c.open("POST","http://127.0.0.1:8000/api/post/create/"),n&&(c.setRequestHeader("X-CSRFToken",n),c.setRequestHeader("HTTP_X_REQUESTED_WITH","XMLHttpRequest"),c.setRequestHeader("Http-Requested-With","XMLHttpRequest")),c.onload=function(){403===c.status&&("Authentication credentials were not provided."===c.response.detail&&(window.location.href="/accounts/login?showLoginRequired=true"));t(c.response,c.status)},c.send(s)}function m(e,t){var s;e&&(s=JSON.stringify(e));var c=new XMLHttpRequest,n=j("csrftoken");c.responseType="json",c.open("POST","http://127.0.0.1:8000/api/post/action/"),c.setRequestHeader("Content-Type","application/json"),n&&(c.setRequestHeader("X-CSRFToken",n),c.setRequestHeader("HTTP_X_REQUESTED_WITH","XMLHttpRequest"),c.setRequestHeader("Http-Requested-With","XMLHttpRequest")),c.onload=function(){403===c.status&&("Authentication credentials were not provided."===c.response.detail&&(window.location.href="/accounts/login?showLoginRequired=true"));t(c.response,c.status)},c.send(s)}function O(e,t){var s=new XMLHttpRequest,c="http://127.0.0.1:8000/api/post/".concat(e);s.responseType="json",s.open("GET",c),s.setRequestHeader("Content-Type","application/json"),s.onload=function(){403===s.status&&("Authentication credentials were not provided."===s.response.detail&&(window.location.href="/accounts/login?showLoginRequired=true"));t(s.response,s.status)},s.send()}function x(e,t){var s=new XMLHttpRequest;s.responseType="json",s.open("GET","http://127.0.0.1:8000/api/post/feed/"),s.setRequestHeader("Content-Type","application/json"),s.onload=function(){403===s.status&&("Authentication credentials were not provided."===s.response.detail&&-1===window.location.href.indexOf&&(window.location.href="/accounts/login?showLoginRequired=true"));e(s.response,s.status)},s.send()}s(9);var p=s(0);function h(e){var t=n.a.useRef(),s=Object(c.useState)(!1),a=Object(d.a)(s,2),l=a[0],o=a[1],r=Object(c.useState)(!1),i=Object(d.a)(r,2),j=i[0],u=i[1],b=Object(c.useState)(!0),m=Object(d.a)(b,2),O=m[0],x=m[1];return Object(p.jsx)("div",{children:Object(p.jsxs)("form",{children:[Object(p.jsxs)("section",{className:"commentBox",children:[Object(p.jsx)("textarea",{rows:1,autoFocus:e.autoFocus,placeholder:"Add a public comment...",ref:t,onFocus:function(){o(!0),u(!0)},onBlur:function(){o(!1)},onKeyUp:function(e){var t=e.target.value;x(!t)}}),l&&Object(p.jsx)("div",{className:"commentLine"})]}),j&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{className:"commentButton sendButton",disabled:O,onClick:function(e){e.preventDefault(),console.log(e)},children:"COMMENT"}),Object(p.jsx)("button",{className:"commentButton",style:{color:"gray",backgroundColor:"transparent"},onClick:function(){u(!1),t.current.value=""},children:"CANCEL"})]})]})})}s(18),s(10);function f(e){var t=Object(c.useContext)(w),s=n.a.useRef(),a=Object(c.useState)(!1),l=Object(d.a)(a,2),o=l[0],r=l[1],i=Object(c.useState)(!1),j=Object(d.a)(i,2),u=j[0],b=j[1],m=Object(c.useState)(!0),O=Object(d.a)(m,2),x=O[0],h=O[1];return Object(p.jsx)("div",{children:Object(p.jsxs)("form",{children:[Object(p.jsxs)("section",{className:"commentBox",children:[Object(p.jsx)("textarea",{rows:1,autoFocus:e.autoFocus,placeholder:"Add a public comment...",ref:s,onFocus:function(){r(!0),b(!0)},onBlur:function(){r(!1)},onKeyUp:function(e){var t=e.target.value;h(!t)}}),o&&Object(p.jsx)("div",{className:"commentLine"})]}),u&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{className:"commentButton sendButton",disabled:x,onClick:function(e){e.preventDefault(),console.log(e)},children:"COMMENT"}),Object(p.jsx)("button",{className:"commentButton",style:{color:"gray",backgroundColor:"transparent"},onClick:function(){b(!1),t()},children:"CANCEL"})]})]})})}function v(e){var t=Object(c.useContext)(N),s=n.a.useRef(),a=Object(c.useState)(!1),l=Object(d.a)(a,2),o=l[0],r=l[1],i=Object(c.useState)(!1),j=Object(d.a)(i,2),u=j[0],b=j[1],m=Object(c.useState)(!0),O=Object(d.a)(m,2),x=O[0],h=O[1];return Object(p.jsx)("div",{children:Object(p.jsxs)("form",{children:[Object(p.jsxs)("section",{className:"commentBox",children:[Object(p.jsx)("textarea",{rows:1,autoFocus:e.autoFocus,placeholder:"Add a public comment...",ref:s,onFocus:function(){r(!0),b(!0)},onBlur:function(){r(!1)},onKeyUp:function(e){var t=e.target.value;h(!t)}}),o&&Object(p.jsx)("div",{className:"commentLine"})]}),u&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{className:"commentButton sendButton",disabled:x,onClick:function(e){e.preventDefault(),console.log(e)},children:"COMMENT"}),Object(p.jsx)("button",{className:"commentButton",style:{color:"gray",backgroundColor:"transparent"},onClick:function(){b(!1),t()},children:"CANCEL"})]})]})})}var N=n.a.createContext();var g=function(e){var t=Object(c.useRef)(),s=Object(c.useRef)(),n=Object(c.useState)(!1),a=Object(d.a)(n,2),l=a[0],o=a[1],r=function(){o((function(e){return!e}))},i=!1,j=e.likes;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("section",{className:"messageContainer",children:[Object(p.jsx)("div",{className:"messageUser",children:e.user}),Object(p.jsx)("i",{className:"fas fa-user-circle"}),Object(p.jsx)("div",{className:"messageText",children:e.message}),Object(p.jsxs)("section",{className:"messageIconsContainer",children:[Object(p.jsx)("i",{className:"fas fa-thumbs-up",ref:t,onClick:function(){(i=!i)?(j++,t.current.style.color="#4688de"):(j--,t.current.style.color="gray"),s.current.innerHTML=j}}),Object(p.jsx)("dvi",{ref:s,children:e.likes}),Object(p.jsx)("i",{className:"fas fa-thumbs-down"}),e.editable?Object(p.jsx)("div",{onClick:function(){},style:{cursor:"pointer"},children:"DELETE"}):Object(p.jsx)("div",{onClick:r,style:{cursor:"pointer"},children:"REPLY"})]}),Object(p.jsx)(N.Provider,{value:r,children:l&&Object(p.jsx)(v,{autoFocus:!0})})]})})},w=n.a.createContext();var y=function(e){var t=Object(c.useRef)(),s=Object(c.useRef)(),n=Object(c.useState)(!1),a=Object(d.a)(n,2),l=a[0],o=a[1],r=Object(c.useState)(!1),i=Object(d.a)(r,2),j=i[0],u=i[1],b=function(){u((function(e){return!e}))},m=Object(p.jsx)("i",{className:"fas fa-caret-down"});m=l?Object(p.jsx)("i",{className:"fas fa-caret-up"}):Object(p.jsx)("i",{className:"fas fa-caret-down"});var O=!1,x=e.likes;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("section",{className:"messageContainer",children:[Object(p.jsx)("div",{className:"messageUser",children:e.user}),Object(p.jsx)("i",{className:"fas fa-user-circle"}),Object(p.jsx)("div",{className:"messageText",children:e.message}),Object(p.jsxs)("section",{className:"messageIconsContainer",children:[Object(p.jsx)("i",{className:"fas fa-thumbs-up",ref:t,onClick:function(){(O=!O)?(x++,t.current.style.color="#4688de"):(x--,t.current.style.color="gray"),s.current.innerHTML=x}}),Object(p.jsx)("dvi",{ref:s,children:e.likes}),Object(p.jsx)("i",{className:"fas fa-thumbs-down"}),e.editable?Object(p.jsx)("div",{onClick:function(){},style:{cursor:"pointer"},children:"DELETE"}):Object(p.jsx)("div",{onClick:b,style:{cursor:"pointer"},children:"REPLY"})]}),Object(p.jsx)(w.Provider,{value:b,children:j&&Object(p.jsx)(f,{autoFocus:!0})}),Object(p.jsxs)("section",{className:"arrowReplies",onClick:function(){o((function(e){return!e}))},children:[m,Object(p.jsx)("div",{children:"Views 4 replies"})]}),l&&Object(p.jsx)("section",{className:"subMessages",children:Object(p.jsx)(g,{user:"Dummy Reply",message:"This is my message"})})]})})};var k=function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(y,{user:"Dummy user",editable:!1,message:"Dummy Message",likes:25}),Object(p.jsx)("div",{className:"buttonBar",children:Object(p.jsx)("div",{className:"loader"})})]})};var C=function(){return Object(p.jsx)("div",{className:"container mt-3",children:Object(p.jsxs)("div",{className:"colHolder",children:[Object(p.jsx)(h,{autoFocus:!1}),Object(p.jsx)(k,{})]})})};function R(e){var t=e.user;return Object(p.jsx)("div",{className:"m-3 mb-2",children:Object(p.jsx)(T,{username:t.username,children:Object(p.jsx)("span",{className:"rounded-circle bg-black text-white text-uppercase py-3 px-4",children:t.username[0]})})})}function T(e){var t=e.username;return Object(p.jsx)(n.a.Fragment,{children:Object(p.jsx)("span",{style:{cursor:"pointer"},onClick:function(e){e.preventDefault(),window.location.href="/profile/".concat(t)},className:"fw-bold",children:e.children})})}function L(e){var t=e.user;!0===e.includeFullName&&"".concat(t.first_name," ").concat(t.last_name);return Object(p.jsx)(T,{username:t.username,children:Object(p.jsx)("span",{onClick:function(e){e.preventDefault(),window.location.href="profile/".concat(t.username)},className:"fw-bold",children:t.username})})}function S(){return Object(p.jsx)("div",{className:"container mt-5",children:Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-12 col-md-6 col-sm-12 mx-auto",children:Object(p.jsx)("div",{className:"mr-auto",children:Object(p.jsx)("button",{type:"button",className:"btn btn-primary me-auto rounded-circle","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"+"})})})})})}function q(e){var t=e.username,s=Object(c.useState)([]),a=Object(d.a)(s,2),l=a[0],o=a[1],r=Object(c.useState)([]),j=Object(d.a)(r,2),b=j[0],m=j[1],O=Object(c.useState)(null),x=Object(d.a)(O,2),h=x[0],f=x[1];Object(c.useEffect)((function(){var t=Object(i.a)(e.newPosts).concat(l);t.length!==b.length&&m(t)}),[b,e.newPosts,l]),Object(c.useEffect)((function(){u(t,(function(e,t){200===t&&(f(e.next),o(e.results),console.log(h))}))}),[t]);return Object(p.jsx)("div",{children:Object(p.jsxs)(n.a.Fragment,{children:[b.map((function(e,t){return Object(p.jsx)(F,{post:e},"".concat(t))})),Object(p.jsx)("div",{className:"d-grid gap-2  mx-auto mt-2",children:null!==h&&Object(p.jsx)("button",{className:"btn btn-outline-primary btn-sm mb-3 mx-auto",onClick:function(e){e.preventDefault();u(t,(function(e,t){if(200===t){f(e.next);var s=Object(i.a)(b).concat(e.results);o(s),m(s)}}))},children:"Load posts"})})]})})}function F(e){var t=e.post,s=Object(c.useState)(e.post?e.post:null),a=Object(d.a)(s,2),l=a[0],r=a[1],i=window.location.pathname,j=Object(o.a)(/([0-9]+)/,{postId:1}),u=i.match(j),b=u?u.groups.postId:-1,m="".concat(t.id)!=="".concat(b),O=function(e){r(e)};return Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("div",{className:"row mb-5 mt-2",children:Object(p.jsx)("div",{className:"col-12 col-md-6 col-sm-12 mx-auto",children:Object(p.jsxs)("div",{className:"card h-100",children:[Object(p.jsxs)("div",{className:"d-flex align-items-center bg-light bg-gradient",children:[Object(p.jsx)("div",{className:"col-1 me-4 mb-3",children:Object(p.jsx)(R,{user:t.user})}),Object(p.jsx)("div",{className:"col-11  col-12 col-md-6 col-sm-12",children:Object(p.jsxs)("div",{className:"m-3 mb-2",children:[Object(p.jsx)("span",{children:Object(p.jsx)(L,{includeFullName:!0,user:t.user})}),Object(p.jsx)("br",{}),Object(p.jsx)("small",{className:"text-muted capitaized",children:t.user.location})]})})]}),Object(p.jsx)("img",{src:"http://127.0.0.1:8000/".concat(t.image,"/"),className:"card-img-top",alt:"..."}),Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsx)("h5",{className:"card-title",children:t.title}),Object(p.jsx)("p",{className:"card-text",children:t.content}),Object(p.jsx)("div",{children:Object(p.jsx)("small",{className:"text-muted"})}),Object(p.jsx)("div",{className:"col-12 col-md-12 col-sm-12 mx-auto",children:Object(p.jsxs)("div",{className:"btn btn-group",children:[l&&Object(p.jsxs)(n.a.Fragment,{children:[Object(p.jsx)(H,{post:l,didLike:O,action:{type:"like",display:"like"}}),Object(p.jsx)(H,{post:l,didLike:O,action:{type:"unlike",display:"unlike"}})]}),!1===m?null:Object(p.jsx)("button",{className:"btn btn-outline-primary btn-sm",onClick:function(e){e.preventDefault(),window.location.href="/".concat(t.id)},children:"views the post"})]})})]}),Object(p.jsx)(C,{})]})})})})}function H(e){var t=e.post,s=e.action,c=e.didLike,n=t.like?t.like:0,a=e.className?e.className:"btn btn-primary btn-sm",l=s.display?s.display:"Action",o="like"===s.type?"".concat(n," ").concat(l):l;return Object(p.jsx)("button",{className:a,onClick:function(e){e.preventDefault();m({id:t.id,action:s.type},(function(e,t){200!==t&&201!==t||!c||c(e)}))},children:o})}function E(e){var t=e.postId,s=Object(c.useState)(null),n=Object(d.a)(s,2),a=n[0],l=n[1],o=Object(c.useState)(!1),r=Object(d.a)(o,2),i=r[0],j=r[1];return O(t,(function(e,t){!1===i&&200===t&&(l(e),j(!0))})),null!==a?Object(p.jsx)(F,{post:a}):null}function M(e){var t=e.user;return Object(p.jsx)("div",{className:"m-2 mb-2",children:Object(p.jsx)(D,{username:t.username,children:Object(p.jsx)("span",{className:"rounded-circle bg-black text-white text-uppercase py-2 px-3",children:t.username[0]})})})}function D(e){var t=e.username;return Object(p.jsx)(n.a.Fragment,{children:Object(p.jsx)("span",{style:{cursor:"pointer"},onClick:function(e){e.preventDefault(),window.location.href="/profile/".concat(t)},className:"fw-bold",children:e.children})})}function P(e){var t=e.user;e.includeFullName;return Object(p.jsx)(D,{username:t.username,children:Object(p.jsx)("span",{onClick:function(e){e.preventDefault(),window.location.href="profile/".concat(t.username)},className:"fw-bold",children:t.username})})}function B(){return Object(p.jsx)("div",{className:"container mt-5",children:Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-12 col-md-6 col-sm-12 mx-auto",children:Object(p.jsx)("div",{className:"mr-auto",children:Object(p.jsx)("button",{type:"button",className:"btn btn-primary me-auto rounded-circle","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"+"})})})})})}function A(e){var t=Object(c.useState)([]),s=Object(d.a)(t,2),a=s[0],l=s[1],o=Object(c.useState)([]),r=Object(d.a)(o,2),j=r[0],u=r[1],b=Object(c.useState)(!1),m=Object(d.a)(b,2),O=m[0],h=m[1],f=Object(c.useState)(null),v=Object(d.a)(f,2),N=v[0],g=v[1];Object(c.useEffect)((function(){var t=Object(i.a)(e.newPosts).concat(a);t.length!==j.length&&u(t)}),[j,e.newPosts,a]),Object(c.useEffect)((function(){if(!1===O){x((function(e,t){200===t&&(g(e.next),l(e.results),h(!0))}))}}),[e.newPosts,j,a,N]);return Object(p.jsx)("div",{className:"mt-5 col-6 col-md-9 mx-auto",children:Object(p.jsxs)(n.a.Fragment,{children:[j.map((function(e,t){return Object(p.jsx)(X,{post:e},"".concat(t))})),Object(p.jsx)("div",{className:"d-grid gap-2  mx-auto mt-2",children:null!==N&&Object(p.jsx)("button",{className:"btn btn-outline-primary btn-sm mb-3 mx-auto",onClick:function(e){if(e.preventDefault(),null!==N){x((function(e,t){if(200===t){g(e.next);var s=Object(i.a)(j).concat(e.results);l(s),u(s)}}))}},children:"Load posts"})})]})})}function X(e){var t=e.post,s=Object(c.useState)(e.post?e.post:null),a=Object(d.a)(s,2),l=a[0],r=a[1],i=window.location.pathname,j=Object(o.a)(/([0-9]+)/,{postId:1}),u=i.match(j),b=u?u.groups.postId:-1,m="".concat(t.id)!=="".concat(b),O=function(e){r(e)};return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("div",{className:"row"}),Object(p.jsx)("div",{className:"row mb-5 mt-2",children:Object(p.jsx)("div",{className:"col-12 col-md-6 col-sm-12 mx-auto",children:Object(p.jsxs)("div",{className:"card h-100",children:[Object(p.jsxs)("div",{className:"d-flex align-items-center bg-light bg-gradient",children:[Object(p.jsx)("div",{className:"col-1 me-2",children:Object(p.jsx)(M,{user:t.user})}),Object(p.jsx)("div",{className:"col-11",children:Object(p.jsxs)("div",{className:"m-3 mb-3",children:[Object(p.jsx)("span",{children:Object(p.jsx)(P,{includeFullName:!0,user:t.user})}),Object(p.jsx)("br",{}),Object(p.jsx)("small",{className:"text-muted capitaized",children:t.user.location})]})})]}),Object(p.jsx)("img",{src:"http://127.0.0.1:8000/".concat(t.image,"/"),className:"card-img-top",alt:"..."}),Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsx)("h5",{className:"card-title",children:t.title}),Object(p.jsx)("p",{className:"card-text",children:t.content}),Object(p.jsx)("div",{children:Object(p.jsx)("small",{className:"text-muted",children:t.timestamp})}),Object(p.jsxs)("div",{className:"btn btn-group",children:[l&&Object(p.jsxs)(n.a.Fragment,{children:[Object(p.jsx)(I,{post:l,didLike:O,action:{type:"like",display:"like"}}),Object(p.jsx)(I,{post:l,didLike:O,action:{type:"unlike",display:"unlike"}})]}),!1===m?null:Object(p.jsx)("button",{className:"btn btn-outline-primary btn-sm",onClick:function(e){e.preventDefault(),window.location.href="/".concat(t.id)},children:"views the post"})]})]})]})})})]})}function I(e){var t=e.post,s=e.action,c=e.didLike,n=t.like?t.like:0,a=e.className?e.className:"btn btn-primary btn-sm",l=s.display?s.display:"Action",o="like"===s.type?"".concat(n," ").concat(l):l;return Object(p.jsx)("button",{className:a,onClick:function(e){e.preventDefault();m({id:t.id,action:s.type},(function(e,t){200!==t&&201!==t||!c||c(e)}))},children:o})}function _(e){var t=e.user,s=e.didfollowToggle,c=e.profileLoading,n=t&&t.is_following?"unfollow":"follow",a="follow"===n?"btn btn-primary":"btn btn-danger";return t?Object(p.jsx)("div",{class:"container rounded bg-white mt-5 mb-5",children:Object(p.jsxs)("div",{class:"row",children:[Object(p.jsx)("div",{class:"col-md-3 border-right",children:Object(p.jsxs)("div",{class:"d-flex flex-column align-items-center text-center p-3 py-5",children:[Object(p.jsx)("span",{className:"mb-3",children:Object(p.jsx)(R,{className:"fw-5 ",user:t})}),Object(p.jsx)("span",{className:"font-weight-bold ",children:t.username}),Object(p.jsx)("span",{class:"text-black-50",children:t.email}),Object(p.jsx)("span",{children:" "})]})}),Object(p.jsx)("div",{class:"col-md-5 border-right",children:Object(p.jsxs)("div",{class:"p-3 py-5",children:[Object(p.jsx)("div",{class:"d-flex justify-content-between align-items-center mb-3",children:Object(p.jsx)("h4",{class:"text-right",children:"Profile Detail"})}),Object(p.jsxs)("div",{class:"row mt-2",children:[Object(p.jsx)("div",{class:"col-md-6",children:Object(p.jsxs)("label",{children:["First Name: ",Object(p.jsx)("b",{children:t.first_name})]})}),Object(p.jsx)("div",{class:"col-md-6",children:Object(p.jsxs)("label",{children:["Last Name: ",Object(p.jsx)("b",{children:t.last_name})]})})]}),Object(p.jsxs)("div",{class:"row mt-3",children:[Object(p.jsx)("div",{class:"col-md-12",children:Object(p.jsxs)("label",{children:["Username:  ",Object(p.jsx)("b",{children:t.username})," "]})}),Object(p.jsx)("div",{class:"col-md-12",children:Object(p.jsxs)("label",{children:["Location  ",Object(p.jsx)("b",{children:t.location})," "]})}),Object(p.jsx)("div",{class:"col-md-12",children:Object(p.jsxs)("label",{children:["Phone number:  ",Object(p.jsx)("b",{children:t.phone_number})," "]})})," ",Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{class:"col-md-12",children:Object(p.jsx)("p",{children:t.bio})})]}),Object(p.jsxs)("div",{class:"row mt-3",children:[Object(p.jsx)("div",{class:"col-md-6",children:Object(p.jsxs)("label",{children:["Follwers: ",Object(p.jsx)("b",{children:t.followers})]})}),Object(p.jsx)("div",{class:"col-md-6",children:Object(p.jsxs)("label",{children:["Following: ",Object(p.jsx)("b",{children:t.following})," "]})})]})]})}),Object(p.jsx)("div",{class:"col-md-4",children:Object(p.jsxs)("div",{class:"p-3 py-5",children:[Object(p.jsx)("div",{class:"d-flex justify-content-between align-items-center experience",children:Object(p.jsxs)("span",{className:a,onClick:function(e){e.preventDefault(),s&&!c&&s(n)},children:[Object(p.jsx)("i",{class:"fa fa-plus"}),"\xa0",n]})}),Object(p.jsx)("br",{})]})})]})}):null}function U(e){var t=e.username,s=Object(c.useState)(null),n=Object(d.a)(s,2),a=n[0],l=n[1],o=Object(c.useState)(!1),r=Object(d.a)(o,2),i=r[0],u=r[1],b=Object(c.useState)(!1),m=Object(d.a)(b,2),O=m[0],x=m[1],h=function(e,t){200===t&&l(e)};Object(c.useEffect)((function(){!1===i&&(!function(e,t){var s="http://127.0.0.1:8000/api/profile/";e&&(s="http://127.0.0.1:8000/api/profile/".concat(e,"/")),console.log(s);var c=new XMLHttpRequest;c.responseType="json",c.open("GET",s),c.setRequestHeader("Content-Type","application/json"),c.onload=function(){403===c.status&&"Authentication credentials were not provided."===c.response.detail&&(window.location.href="/accounts/login?showLoginRequired=true"),t(c.response,c.status)},c.send()}(t,h),u(!0))}),[t,i,u]);return Object(p.jsx)(_,{user:a,didfollowToggle:function(e){console.log(e),function(e,t,s){var c;t&&(c=JSON.stringify(t).toLowerCase()),console.log(c);var n=new XMLHttpRequest,a=j("csrftoken"),l="http://127.0.0.1:8000/api/profile/".concat(e,"/follow/");n.responseType="json",n.open("POST",l),n.setRequestHeader("Content-Type","application/json"),a&&(n.setRequestHeader("X-CSRFToken",a),n.setRequestHeader("HTTP_X_REQUESTED_WITH","XMLHttpRequest"),n.setRequestHeader("Http-Requested-With","XMLHttpRequest")),n.onload=function(){403===n.status&&"Authentication credentials were not provided."===n.response.detail&&(window.location.href="/accounts/login?showLoginRequired=true"),s(n.response,n.status)},n.send(c)}(t,{action:e},(function(e,t){console.log(e,t),200===t&&l(e),x(!1)})),x(!0)},profileLoading:O})}var W=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,20)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,l=t.getTTFB;s(e),c(e),n(e),a(e),l(e)}))},G=n.a.createElement,J=document.getElementById("root");J&&l.a.render(G((function(e){var t="false"!==e.canPost;console.log(t);var s=n.a.createRef(),a=n.a.createRef(),l=n.a.createRef(),o=Object(c.useState)([]),j=Object(d.a)(o,2),u=j[0],m=j[1],O=function(e,t){var s=Object(i.a)(u);201===t?(s.unshift(e),m(s)):alert("An error occured please try again letter !")};return Object(p.jsxs)("div",{children:[t&&Object(p.jsx)(S,{}),Object(p.jsx)("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(p.jsx)("div",{className:"modal-dialog",children:Object(p.jsxs)("div",{className:"modal-content",children:[Object(p.jsxs)("div",{className:"modal-header",children:[Object(p.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Post"}),Object(p.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(p.jsx)("div",{className:"modal-body",children:Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=s.current.files[0],c=l.current.value,n=a.current.value,o=new FormData;o.append("title",n),o.append("content",c),o.append("image",t),b(o,O),l.current.value="",a.current.value="",s.current.value=null},children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{className:"form-label",children:"Title"}),Object(p.jsx)("input",{type:"text",className:"form-control",ref:a,placeholder:"title"})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{className:"form-label",children:"Content "}),Object(p.jsx)("textarea",{className:"form-control",rows:"3",ref:l})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{className:"form-label",children:"Upload file"}),Object(p.jsx)("input",{className:"form-control",type:"file",ref:s})]}),Object(p.jsxs)("div",{className:"modal-footer",children:[Object(p.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Post"})]})]})})]})})}),Object(p.jsx)(q,Object(r.a)({newPosts:u},e))]})}),J.dataset),J);var K=document.getElementById("root-feed");K&&l.a.render(G((function(e){var t="false"!==e.canPost,s=n.a.createRef(),a=n.a.createRef(),l=n.a.createRef(),o=Object(c.useState)([]),r=Object(d.a)(o,2),j=r[0],u=r[1],m=function(e,t){var s=Object(i.a)(j);201===t?(s.unshift(e),u(s)):alert("An error occured please try again letter !")};return Object(p.jsxs)("div",{children:[t&&Object(p.jsx)(B,{}),Object(p.jsx)("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(p.jsx)("div",{className:"modal-dialog",children:Object(p.jsxs)("div",{className:"modal-content",children:[Object(p.jsxs)("div",{className:"modal-header",children:[Object(p.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Post"}),Object(p.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(p.jsx)("div",{className:"modal-body",children:Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=s.current.files[0],c=l.current.value,n=a.current.value,o=new FormData;o.append("title",n),o.append("content",c),o.append("image",t),b(o,m),l.current.value="",a.current.value="",s.current.value=null},children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{className:"form-label",children:"Title"}),Object(p.jsx)("input",{type:"text",className:"form-control",ref:a,placeholder:"title"})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{className:"form-label",children:"Content "}),Object(p.jsx)("textarea",{required:!0,placeholder:"Think Twice",className:"form-control",rows:"3",ref:l})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{className:"form-label",children:"Upload file"}),Object(p.jsx)("input",{required:!0,className:"form-control",type:"file",ref:s})]}),Object(p.jsxs)("div",{className:"modal-footer",children:[Object(p.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Post"})]})]})})]})})}),Object(p.jsx)(A,{newPosts:j})]})})),K);var Q=document.querySelectorAll(".post-detail-el");Q.forEach((function(e){Q&&l.a.render(G(E,e.dataset),e)}));var z=document.querySelectorAll(".post-profile-el");z.forEach((function(e){z&&l.a.render(G(U,e.dataset),e)}));var Y=document.getElementById("root-comment");J&&l.a.render(G(C,Y.dataset),Y),W()},9:function(e,t,s){}},[[19,1,2]]]);
//# sourceMappingURL=main.9531f557.chunk.js.map